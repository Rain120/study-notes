# Code Review

## CR æ˜¯ä»€ä¹ˆ

å…¨ç§° Code Review, ä»£ç å®¡æŸ¥ã€‚æŒ‡å¯¹è®¡ç®—æœºæºä»£ç ç³»ç»ŸåŒ–åœ°å®¡æŸ¥ï¼Œå¸¸ç”¨è½¯ä»¶åŒè¡Œè¯„å®¡çš„æ–¹å¼è¿›è¡Œï¼Œå…¶ç›®çš„æ˜¯åœ¨æ‰¾å‡ºåŠä¿®æ­£åœ¨è½¯ä»¶å¼€å‘åˆæœŸæœªå‘ç°çš„é”™è¯¯ï¼Œæå‡è½¯ä»¶è´¨é‡åŠå¼€å‘è€…çš„æŠ€æœ¯ã€‚

### ä¼˜åŠ¿

1. æå‡ä»£ç è´¨é‡
2. æ‰¾å‡ºæ½œåœ¨ bug
3. é€šè¿‡ review ä»£ç å­¦ä¹ 

## å¸¸ç”¨æœ¯è¯­

-   PR: Pull Request
-   MR: Merge Request
-   CL: å˜æ›´åˆ—è¡¨ (changelist), è¡¨ç¤ºå·²æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶æˆ–æ­£åœ¨è¿›è¡Œä»£ç å®¡æŸ¥çš„è‡ªåŒ…å«æ›´æ”¹ã€‚ä¹Ÿå¯ä»¥å«åš patch (è¡¥ä¸)ã€‚
-   WIP: Work In Progress
-   LGTM åœ¨æˆ‘çœ‹æ¥ä¸é”™(Looks Good to Me)
-   ibid. åŒä¸Š

## Developer

å¼€å‘è€…éœ€è¦æ³¨æ„ âš ï¸ã€æ€è€ƒ ğŸ¤” çš„ç‚¹

### å®šä¹‰å¥½ä½ çš„æäº¤çš„ç±»å‹

:::tip
å¯ä»¥ä½¿ç”¨ä¸€äº› commit type å°½æ—©å˜æ›´å¯ä»¥é¿å…åœ¨ç»†èŠ‚ã€ä¿®é¥°ã€æ–‡æ¡£ç­‰æ–¹é¢æµªè´¹ç²¾åŠ›ã€‚æ¯”å¦‚è¯´ **WIP**, **doc**, blah, blah, blah... æ›´å¤š commit type å¯ä»¥å‚è€ƒ [Commit Lint](https://github.com/conventional-changelog/commitlint#what-is-commitlint)
:::

### å°½å¯èƒ½å°çš„ PR

:::tip
åœ¨åš Code Review çš„æ—¶å€™ï¼Œå¦‚æœæœ‰å¤§é‡çš„æ–‡ä»¶ä¿®æ”¹ï¼Œé‚£ä¹ˆ Review èµ·æ¥æ˜¯å¾ˆå›°éš¾çš„ï¼Œæ¯”è¾ƒè´¹äººã€‚
å¦‚æœ PR æ¯”è¾ƒå°ï¼Œç›¸å¯¹å°±æ¯”è¾ƒå®¹æ˜“ Reviewï¼Œä¹Ÿå®¹æ˜“å‘ç°ä»£ç ä¸­å¯èƒ½å­˜åœ¨çš„é—®é¢˜ã€‚

å¦‚æœä½ æ˜¯ä¸€ä¸ªæ¯”è¾ƒå¤§çš„æ”¹åŠ¨ï¼Œé‚£ä¹ˆæœ€å¥½åˆ†æ‰¹æäº¤ï¼Œä»¥å‡è½» reviewer çš„å®¡æŸ¥å‹åŠ›ã€‚

:::

Note: **æˆ‘ä¸ªäººçš„ä¹ æƒ¯æ˜¯ï¼Œå¤š commitï¼Œæ¯æ¬¡ commit ä¼šå¤§è‡´æè¿°åšäº†ä»€ä¹ˆ**

### å†™å¥½ PR çš„ CL

:::tip
CL æè¿°æ˜¯è¿›è¡Œäº†å“ªäº›æ›´æ”¹ä»¥åŠä¸ºä½•æ›´æ”¹çš„å…¬å¼€è®°å½•ã€‚CL å°†ä½œä¸ºç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿä¸­çš„æ°¸ä¹…è®°å½•ï¼Œå¯èƒ½ä¼šåœ¨é•¿æ—¶æœŸå†…è¢«é™¤å®¡æŸ¥è€…ä¹‹å¤–çš„æ•°ç™¾äººé˜…è¯»ã€‚

:::

#### æ€ä¹ˆæ‰æ˜¯ä¸€ä¸ªå¥½çš„ CLï¼Ÿ

:::tip
ä¸€èˆ¬ä¸€ä¸ª CL ä¼šåŒ…æ‹¬ **é¦–è¡Œ(First Line)**, **ç©ºè¡Œ(Empty Line)**, **ä¸»ä½“(Body)**ã€‚

**é¦–è¡Œ**ä¸»è¦æ˜¯ç”¨æ¥å‘Šè¯‰ reviewerï¼Œæœ¬æ¬¡çš„ PR æ­£åœ¨åšä»€ä¹ˆçš„ç®€çŸ­æ‘˜è¦ï¼Œæœ€å¥½çŸ­å°è€Œç²¾æ‚ï¼Œç±»ä¼¼äºå†™ä¸€ä¸ª Summary

**ç©ºè¡Œ**ç”¨æ¥åŒºåˆ†é¦–è¡Œå’Œä¸»ä½“éƒ¨åˆ†ï¼Œè®© reviewer å¯ä»¥ç€é‡äºé¦–è¡Œæ‘˜è¦ä¿¡æ¯

**ä¸»ä½“**å¯èƒ½åŒ…æ‹¬å¯¹æ­£åœ¨è§£å†³çš„é—®é¢˜çš„ç®€è¦æè¿°ï¼Œé—®é¢˜ï¼Œè§£å†³æ€è·¯ï¼Œè§£å†³æ–¹æ¡ˆï¼Œä¸ºä»€ä¹ˆä½¿ç”¨è¿™ç§æ–¹æ¡ˆï¼Œblah,blah,blah ...

:::

**åˆ°äº†å¼€å¿ƒå¿«ä¹çš„ä¸¾æ —å­ ğŸŒ° ç¯èŠ‚äº†**

**ğŸš€Good CLæè¿°**, çœ‹å®Œå°±TMä¸€ä¸ªè¯å„¿ï¼Œæ¸…æ™°æ˜ç™½ï¼Œè¨€ç®€æ„èµ…ï¼Œå€çˆ½å„¿~

> **åŠŸèƒ½æ›´æ–°**
> 
> åœ¨ heatmap ä¸­æ·»åŠ  borderRadius é…ç½® (å¯ä»¥åŠ ç²—æˆ–è€…è®¾ç½®ä¸ºæ ‡é¢˜)
> 
> æœ¬æ¬¡ä¿®æ”¹æ˜¯ä» issue#xxx è·å–çš„ï¼Œéœ€è¦åœ¨ heatmap ä¸Šå¢åŠ  borderRadius é…ç½®ï¼Œé€šè¿‡å°†ç»„ä»¶çš„ borderRadius é€ä¼ ç»™ zrender æ¥å®Œæˆï¼Œblah, blah ...

è¯¦ç»†å‚è€ƒ [echarts issue 16493](https://github.com/apache/echarts/pull/16493)

**Bad CLæè¿°(çœ‹å®Œç›´æ¥æŠ¥è­¦ğŸš“)**ï¼Œéœ€è¦çœ‹å®Œä½ å†™çš„ä¸€å †ä¸œè¥¿ï¼Œæ‰çŸ¥é“ä½ è¦å¹²ä»€ä¹ˆï¼Œæ›´ç¦»è°±çš„æ˜¯ï¼Œçœ‹å®Œäº†ä¹Ÿä¸çŸ¥é“ä½ è¦å¹²ä»€ä¹ˆ

-   remove something
-   build something
-   fix something
-   blah, blah, blah...

shit

### æ±‚ CR

å½“ä½ åœ¨æäº¤å®Œä»£ç ä¹‹åï¼Œä½ å¯ä»¥é€šè¿‡å‘é€ç¾¤æ¶ˆæ¯ or ä¸ªäººæ¶ˆæ¯è¯·å…¶ä»–åŒå­¦(ä¸šåŠ¡ä¸Š: ç»„å†…æˆ–è€…æ¯”è¾ƒç†Ÿçš„åŒå­¦, å·¥å…·åŒ…: ä»»ä½•åŒå­¦éƒ½å¯ä»¥)ç»™ä½  CR

[Google Code Review Developer Guide](https://github.com/google/eng-practices/blob/master/review/developer/index.md)

## Reviewer

## CR è¿‡ç¨‹

## CR æ²‰æ·€

## å‚è€ƒèµ„æ–™

[Code review](https://en.wikipedia.org/wiki/Code_review)

[Google å¼€å‘è€…ä»£ç å®¡æŸ¥æŒ‡å— è‹±æ–‡ç‰ˆ](https://github.com/google/eng-practices)

[Google å¼€å‘è€…ä»£ç å®¡æŸ¥æŒ‡å— ä¸­æ–‡ç‰ˆ](https://jimmysong.io/eng-practices/docs/review/)

[CODE REVIEW ä¸­çš„å‡ ä¸ªæç¤º](https://coolshell.cn/articles/1302.html)
