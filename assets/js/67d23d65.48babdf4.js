"use strict";(self.webpackChunkstudy_notes=self.webpackChunkstudy_notes||[]).push([[3805],{3905:function(t,e,n){n.d(e,{Zo:function(){return c},kt:function(){return p}});var i=n(67294);function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e){if(null==t)return{};var n,i,a=function(t,e){if(null==t)return{};var n,i,a={},r=Object.keys(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var l=i.createContext({}),m=function(t){var e=i.useContext(l),n=e;return t&&(n="function"==typeof t?t(e):s(s({},e),t)),n},c=function(t){var e=m(t.components);return i.createElement(l.Provider,{value:e},t.children)},h={inlineCode:"code",wrapper:function(t){var e=t.children;return i.createElement(i.Fragment,{},e)}},d=i.forwardRef((function(t,e){var n=t.components,a=t.mdxType,r=t.originalType,l=t.parentName,c=o(t,["components","mdxType","originalType","parentName"]),d=m(n),p=a,u=d["".concat(l,".").concat(p)]||d[p]||h[p]||r;return n?i.createElement(u,s(s({ref:e},c),{},{components:n})):i.createElement(u,s({ref:e},c))}));function p(t,e){var n=arguments,a=e&&e.mdxType;if("string"==typeof t||a){var r=n.length,s=new Array(r);s[0]=d;var o={};for(var l in e)hasOwnProperty.call(e,l)&&(o[l]=e[l]);o.originalType=t,o.mdxType="string"==typeof t?t:a,s[1]=o;for(var m=2;m<r;m++)s[m]=n[m];return i.createElement.apply(null,s)}return i.createElement.apply(null,n)}d.displayName="MDXCreateElement"},45705:function(t,e,n){n.r(e),n.d(e,{frontMatter:function(){return o},contentTitle:function(){return l},metadata:function(){return m},toc:function(){return c},default:function(){return d}});var i=n(87462),a=n(63366),r=(n(67294),n(3905)),s=["components"],o={},l="\u7f51\u6613\u4e91\u97f3\u4e50\u6a2a\u5411\u83dc\u5355\u6ed1\u52a8",m={unversionedId:"vue/slide-menu",id:"vue/slide-menu",title:"\u7f51\u6613\u4e91\u97f3\u4e50\u6a2a\u5411\u83dc\u5355\u6ed1\u52a8",description:"\u7f18\u7531",source:"@site/fe/vue/slide-menu.md",sourceDirName:"vue",slug:"/vue/slide-menu",permalink:"/study-notes/fe/vue/slide-menu",tags:[],version:"current",lastUpdatedBy:"Rain120",lastUpdatedAt:1644655385,formattedLastUpdatedAt:"2/12/2022",frontMatter:{},sidebar:"sidebar",previous:{title:"\u5de6\u53f3\u83dc\u5355\u8054\u52a8",permalink:"/study-notes/fe/vue/cascade-menu"}},c=[{value:"\u7f18\u7531",id:"\u7f18\u7531",children:[],level:2},{value:"\u524d\u7aefDOM\u7ed3\u6784",id:"\u524d\u7aefdom\u7ed3\u6784",children:[],level:2},{value:"\u6837\u5f0f",id:"\u6837\u5f0f",children:[],level:2},{value:"\u5168\u90e8\u4ee3\u7801",id:"\u5168\u90e8\u4ee3\u7801",children:[],level:2}],h={toc:c};function d(t){var e=t.components,o=(0,a.Z)(t,s);return(0,r.kt)("wrapper",(0,i.Z)({},h,o,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"\u7f51\u6613\u4e91\u97f3\u4e50\u6a2a\u5411\u83dc\u5355\u6ed1\u52a8"},"\u7f51\u6613\u4e91\u97f3\u4e50\u6a2a\u5411\u83dc\u5355\u6ed1\u52a8"),(0,r.kt)("h2",{id:"\u7f18\u7531"},"\u7f18\u7531"),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"\u4e4b\u524d\u5728\u5b66\u4e60\u7684\u65f6\u5019\u6709\u7a0d\u5fae\u6363\u9f13\u4e00\u4e0b\u7f51\u6613\u4e91\u97f3\u4e50\uff0c\u4e3b\u8981\u662f\u4e3a\u4e86\u5b66\u4e60Vue\uff0c\u5de9\u56fa\u57fa\u7840\u77e5\u8bc6\uff0c\u7136\u540e\u770b\u5230\u8fd9\u4e2a\u6a2a\u5411\u83dc\u5355\uff0c\u5f53\u7136\u4e2a\u4eba\u4e5f\u559c\u6b22\u770b\u7403\uff0c\u6240\u4ee5\u6bcf\u6b21\u770b\u817e\u8bafNBA\u7684\u65f6\u5019\u603b\u662f\u4f1a\u60f3\u8fd9\u4e2a\u662f\u8fd9\u6837\u5b9e\u73b0\u7684\uff0c\u4e8e\u662f\u501f\u52a9\u4e4b\u524d\u8fd8\u6ca1\u5199\u5b8c\u7684demo\uff0c\u5b8c\u6210\u8fd9\u4e2a\u6a2a\u5411\u83dc\u5355\u7684\u5b9e\u73b0\uff0c\u5e9f\u8bdd\u4e0d\u591a\u8bf4\uff0c\u5148\u4e0a\u6548\u679c\u56fe"))),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"\u7f51\u6613\u4e91\u97f3\u4e50\u6a2a\u5411\u83dc\u5355",src:n(82357).Z})),(0,r.kt)("p",null,"\u4ece\u4f7f\u7528\u864e\u7259\u76f4\u64ad\u6a2a\u5411\u83dc\u5355\u7684\u4f53\u9a8c\u5f97\u5230\uff0c\u6211\u4eec\u7684\u6a2a\u5411\u83dc\u5355\u7684\u4e1a\u52a1\u903b\u8f91\u5982\u4e0b\uff1a"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u6ed1\u52a8\u83dc\u5355\uff0c\u5e76\u9009\u62e9\u83dc\u5355\u9879\uff1b"),(0,r.kt)("li",{parentName:"ol"},"\u9009\u62e9\u67d0\u4e2a\u83dc\u5355\u9879\uff0c\u8be5\u83dc\u5355\u9879\u5c45\u4e2d\uff08\u53bb\u9664\u8fb9\u754c\u83dc\u5355\u9879\uff09")),(0,r.kt)("p",null,"\u6211\u4eec\u7684\u4f7f\u7528\u7684better-scroll\u8fd9\u4e2a\u63d2\u4ef6\u6765\u5b9e\u73b0\uff0c\u5177\u4f53\u5b89\u88c5\u8bf7\u53c2\u8003",(0,r.kt)("a",{parentName:"p",href:"https://ustbhuangyi.github.io/better-scroll/#/"},"BetterScroll")),(0,r.kt)("h2",{id:"\u524d\u7aefdom\u7ed3\u6784"},"\u524d\u7aefDOM\u7ed3\u6784"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'<template>\n  <div class="mv-tabs">\n    <div class="tabs" ref="tabsWrapper">\n      <ul ref="tab">\n        <li v-for="(item, index) in tabs" :key="index" @click="selectItem(index)">\n          <router-link tag="div" :to="item.to" class="tab-item">\n            <span class="tab-link">{{item.title}}</span>\n          </router-link>\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n')),(0,r.kt)("p",null,"\u901a\u8fc7\u4f7f\u7528\u63d2\u4ef6Vue\u6765\u8c03\u8bd5\u9879\u76ee\n",(0,r.kt)("img",{alt:"Vue DOM",src:n(22379).Z})),(0,r.kt)("p",null,"\u5176\u4e2dtabs\u5305\u62ec\u83dc\u5355\u9879\u540d\u548c\u5b83\u7684\u8def\u7531"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"data () {\n    return {\n      tabs: [\n        {\n          to: '/mv/recommend-mv',\n          title: '\u63a8\u8350'\n        },\n        {\n          to: '/mv/music-mv',\n          title: '\u97f3\u4e50'\n        },\n        {\n          to: 'show-mv',\n          title: 'Show'\n        },\n        {\n          to: '/mv/acg-mv',\n          title: '\u4e8c\u6b21\u5143'\n        },\n        {\n          to: '/mv/dance-mv',\n          title: '\u821e\u8e48'\n        },\n        {\n          to: '/mv/game-mv',\n          title: '\u6e38\u620f'\n        },\n        {\n          to: '/mv/mvs',\n          title: 'mv'\n        }\n      ],\n      mX: 0, // tab\u79fb\u52a8\u7684\u8ddd\u79bb\n      tabWidth: 80 // \u6bcf\u4e2atab\u7684\u5bbd\u5ea6\n    }\n")),(0,r.kt)("h2",{id:"\u6837\u5f0f"},"\u6837\u5f0f"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},".mv-tabs\n    position relative\n    top -5.5rem\n    bottom 0\n    width 100%\n    .tabs\n      margin-top 3rem\n      height 2.5rem\n      width 100%\n      line-height 2.5rem\n      box-sizing border-box\n      overflow hidden\n      white-space nowrap\n      .tab-item\n        float left\n        width 80px\n        height 40px\n        text-align center\n        .tab-link\n          padding-bottom 5px\n          color #333333\n        &.router-link-active\n          color #d33a31\n          border-bottom 2px solid #d33a31\n          box-sizing border-box\n")),(0,r.kt)("p",null,"\u6837\u5f0f\u548cDOM\u7ed3\u6784\u5c31\u4e0d\u8be6\u7ec6\u8bb2\u4e86\uff0c\u5177\u4f53\u8bb2\u5b9e\u73b0\u5427\n\u9996\u5148\u9700\u8981\u8ba1\u7b97\u51fa\u8fd9\u4e2a\u83dc\u5355\u4e2d\u6240\u6709\u5185\u5bb9\u7684width\uff0c\u4e5f\u5c31\u662f\u5305\u88f9\u8fd9\u4e2a\u83dc\u5355\u7684\u5bb9\u5668\uff1b\u63a5\u7740\u521d\u59cb\u5316better-scroll\uff0c\u5e76\u5ffd\u7565\u8be5\u5b9e\u4f8b\u5bf9\u8c61\u7684\u5782\u76f4\u65b9\u5411\u7684\u6ed1\u52a8."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"methods: {\n    _initMenu () {\n      let tabsWidth = this.tabWidth\n      let width = this.tabs.length * tabsWidth\n      this.$refs.tab.style.width = `${width}px`\n      this.$nextTick(() => {\n        if (!this.scroll) {\n          this.scroll = new BScroll(this.$refs.tabsWrapper, {\n            scrollX: true,\n            eventPassthrough: 'vertical' // \u5ffd\u7565\u8fd9\u4e2a\u5b9e\u4f8b\u5bf9\u8c61\u7684\u5782\u76f4\u6ed1\u52a8\u4e8b\u4ef6\n          })\n        } else {\n          this.scroll.refresh()\n        }\n      })\n    }\n  }\n")),(0,r.kt)("p",null,"\u8fd9\u91cc\u662f\u7b2c\u4e8c\u4e2a\u4e1a\u52a1\u903b\u8f91\u7684\u601d\u8def\uff08\u5e94\u8be5\u4f1a\u6709\u66f4\u597d\u7684\u601d\u8def\uff0c\u6c42\u5927\u4f6c\u6307\u70b9\uff09"),(0,r.kt)("p",null,"\u6211\u7684\u601d\u8def\u662f\u8fd9\u6837\u7684\uff1a\u6bcf\u4e00\u4e2a\u83dc\u5355\u9879\u90fd\u4f1a\u6709\u5404\u81ea\u7684\u70b9\u51fb\u79fb\u52a8\u64cd\u4f5c\uff0c\u6240\u4ee5\u6211\u662f\u6839\u636e\u5f53\u524dtabs\u7684\u4f4d\u7f6e\uff0c\u901a\u8fc7\u70b9\u51fb\u4e8b\u4ef6\u5c06tabs\u79fb\u52a8\u5230\u5b83\u76f8\u5e94\u7684\u4f4d\u7f6e\uff0c\u4f8b\u5982\uff0c\u4e2d\u95f4\u83dc\u5355\u9879\u5728\u70b9\u51fb\u65f6\u4f1a\u79fb\u52a8\u5230\u5c45\u4e2d\u7684\u4f4d\u7f6e\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"methods: {\n    selectItem (index) {\n      let tabs = this.$refs.tab\n      let moveX = +tabs.style.transform.replace(/[^0-9\\-,]/g, '').split(',')[0]\n      switch (index) {\n        case 0:\n          if (moveX <= 0 && moveX > -this.tabWidth) {\n            this.mX = 0\n          }\n          break\n        case 1:\n          if (moveX <= 0 && moveX > -this.tabWidth * 2) {\n            this.mX = 0\n          }\n          break\n        case 2:\n          if (moveX < 0 && moveX >= -this.tabWidth * 2) {\n            this.mX = 0\n          }\n          break\n        case 3:\n          if (moveX <= 0 && moveX >= -this.tabWidth * 2) {\n            this.mX = -this.tabWidth\n          }\n          break\n        case 4:\n          if (moveX <= 0 && moveX >= -this.tabWidth * 2) {\n            this.mX = -this.tabWidth * 2\n          } else if (moveX === 0) {\n            this.mX = -this.tabWidth * 2\n          }\n          break\n        case 5:\n          if (moveX < 0 && moveX > -this.tabWidth * 2) {\n            this.mX = -this.tabWidth * 2\n          }\n          break\n        case 6:\n          if (moveX > -this.tabWidth * 2 && moveX < -this.tabWidth * 3 / 2) {\n            this.mX = -this.tabWidth * 2 + 10\n          }\n          break\n        default:\n          break\n      }\n      tabs.style.transform = `translate(${this.mX}px, 0)`\n    }\n  }\n")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"\u6e32\u67d3\u7684DOM\u7ed3\u6784",src:n(70232).Z})),(0,r.kt)("p",null,"\u5f88\u591a\u65f6\u5019\u6211\u4eec\u5728\u4f7f\u7528better-scroll\u7684\u65f6\u5019\uff0c\u53d1\u73b0\u8fd9\u4e2a\u5b9e\u4f8b\u5bf9\u8c61\u5df2\u7ecf\u521d\u59cb\u5316\uff0c\u4f46\u662f\u4e0d\u80fd\u6ed1\u52a8\uff0c\u662f\u56e0\u4e3a\uff0cVue\u662f\u5f02\u6b65\u66f4\u65b0\u6570\u636e\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u9700\u8981\u5f02\u6b65\u8ba1\u7b97\u5b83\u5b9e\u9645\u5185\u5bb9\u7684\u5bbd\u5ea6\u6216\u8005\u9ad8\u5ea6\uff0cVue\u63d0\u4f9b\u4e00\u4e2a\u4e86this.$nextTick()\u8fd9\u4e2ahock\u6765\u5b9e\u73b0\uff0c\u8fd9\u4e2aAPI\u662f\u5728\u4e0b\u6b21 DOM \u66f4\u65b0\u5faa\u73af\u7ed3\u675f\u4e4b\u540e\u6267\u884c\u5ef6\u8fdf\u56de\u8c03\u3002\u5728\u4fee\u6539\u6570\u636e\u4e4b\u540e\u7acb\u5373\u4f7f\u7528\u8fd9\u4e2a\u65b9\u6cd5\uff0c\u83b7\u53d6\u66f4\u65b0\u540e\u7684 DOM\u3002"),(0,r.kt)("p",null,"\u5b98\u65b9\u89e3\u91ca\uff1a",(0,r.kt)("a",{parentName:"p",href:"https://cn.vuejs.org/v2/api/#Vue-nextTick"},"$nextTick")),(0,r.kt)("p",null,"\u5f53\u751f\u547d\u94a9\u5b50mounted\u89e6\u53d1\u65f6\uff0c\u521d\u59cb\u5316better-scroll"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"mounted () {\n    this.$nextTick(() => {\n      this._initMenu()\n    })\n}\n")),(0,r.kt)("h2",{id:"\u5168\u90e8\u4ee3\u7801"},"\u5168\u90e8\u4ee3\u7801"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"<template>\n  <div class=\"mv-tabs\">\n    <div class=\"tabs\" ref=\"tabsWrapper\">\n      <ul ref=\"tab\">\n        <li v-for=\"(item, index) in tabs\" :key=\"index\" @click=\"selectItem(index)\">\n          <router-link tag=\"div\" :to=\"item.to\" class=\"tab-item\">\n            <span class=\"tab-link\">{{item.title}}</span>\n          </router-link>\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script>\nimport BScroll from 'better-scroll'\n\nexport default {\n  data () {\n    return {\n      tabs: [\n        {\n          to: '/mv/recommend-mv',\n          title: '\u63a8\u8350'\n        },\n        {\n          to: '/mv/music-mv',\n          title: '\u97f3\u4e50'\n        },\n        {\n          to: 'show-mv',\n          title: 'Show'\n        },\n        {\n          to: '/mv/acg-mv',\n          title: '\u4e8c\u6b21\u5143'\n        },\n        {\n          to: '/mv/dance-mv',\n          title: '\u821e\u8e48'\n        },\n        {\n          to: '/mv/game-mv',\n          title: '\u6e38\u620f'\n        },\n        {\n          to: '/mv/mvs',\n          title: 'mv'\n        }\n      ],\n      mX: 0,\n      tabWidth: 80\n    }\n  },\n  mounted () {\n    this.$nextTick(() => {\n      this._initMenu()\n    })\n  },\n  methods: {\n    selectItem (index) {\n      let tabs = this.$refs.tab\n      let moveX = +tabs.style.transform.replace(/[^0-9\\-,]/g, '').split(',')[0]\n      switch (index) {\n        case 0:\n          if (moveX <= 0 && moveX > -this.tabWidth) {\n            this.mX = 0\n          }\n          break\n        case 1:\n          if (moveX <= 0 && moveX > -this.tabWidth * 2) {\n            this.mX = 0\n          }\n          break\n        case 2:\n          if (moveX < 0 && moveX >= -this.tabWidth * 2) {\n            this.mX = 0\n          }\n          break\n        case 3:\n          if (moveX <= 0 && moveX >= -this.tabWidth * 2) {\n            this.mX = -this.tabWidth\n          }\n          break\n        case 4:\n          if (moveX <= 0 && moveX >= -this.tabWidth * 2) {\n            this.mX = -this.tabWidth * 2\n          } else if (moveX === 0) {\n            this.mX = -this.tabWidth * 2\n          }\n          break\n        case 5:\n          if (moveX < 0 && moveX > -this.tabWidth * 2) {\n            this.mX = -this.tabWidth * 2\n          }\n          break\n        case 6:\n          if (moveX > -this.tabWidth * 2 && moveX < -this.tabWidth * 3 / 2) {\n            this.mX = -this.tabWidth * 2 + 10\n          }\n          break\n        default:\n          break\n      }\n      tabs.style.transform = `translate(${this.mX}px, 0)`\n    },\n    _initMenu () {\n      let tabsWidth = this.tabWidth\n      let width = this.tabs.length * tabsWidth\n      this.$refs.tab.style.width = `${width}px`\n      this.$nextTick(() => {\n        if (!this.scroll) {\n          this.scroll = new BScroll(this.$refs.tabsWrapper, {\n            scrollX: true,\n            eventPassthrough: 'vertical'\n          })\n        } else {\n          this.scroll.refresh()\n        }\n      })\n    }\n  }\n}\n<\/script>\n\n<style lang=\"stylus\" scoped>\n  .mv-tabs\n    position relative\n    top -5.5rem\n    bottom 0\n    width 100%\n    .tabs\n      margin-top 3rem\n      height 2.5rem\n      width 100%\n      line-height 2.5rem\n      box-sizing border-box\n      overflow hidden\n      white-space nowrap\n      .tab-item\n        float left\n        width 80px\n        height 40px\n        text-align center\n        .tab-link\n          padding-bottom 5px\n          color #333333\n        &.router-link-active\n          color #d33a31\n          border-bottom 2px solid #d33a31\n          box-sizing border-box\n</style>\n")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://www.zhihu.com/people/yan-yang-nian-hua-120/activities"},"\u77e5\u4e4e")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://rain120.github.io/"},"\u4e2a\u4eba\u535a\u5ba2")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/Rain120"},"Github")))}d.isMDXComponent=!0},70232:function(t,e,n){e.Z=n.p+"assets/images/slide-menu-dom-2ce8e486513d938ef59e426dc9e327a4.png"},82357:function(t,e,n){e.Z=n.p+"assets/images/slide-menu-3eeaeb9d9deefa5a4a5b014959560ec5.gif"},22379:function(t,e,n){e.Z=n.p+"assets/images/vue-devtools-6a1183f3eb8092242cee2854711fe727.png"}}]);